# QMinesweeper - Qt扫雷游戏

## 功能介绍

QMinesweeper是一个使用Qt框架开发的经典扫雷游戏，具有以下功能：

1. **基本游戏逻辑**
   - 随机生成包含地雷的游戏区域
   - 点击安全区域可以揭示周围的数字格子
   - 点击地雷则游戏结束

2. **丰富的交互方式**
   - 左键点击：揭示格子
   - 右键点击：标记/取消标记可能的地雷位置
   - 双击已揭示的数字格子：如果周围的标记数等于数字，则自动揭示周围未标记的格子

3. **智能提示**
   - 当双击数字格子但周围标记数不等于该数字时，会显示一个临时的❌提示

4. **游戏界面**
   - 优化的视觉效果，已揭示格子有轻浅的边框和背景
   - 数字按照传统扫雷游戏使用不同颜色显示
   - 地雷使用💣表示，标记使用🚩表示

5. **游戏状态**
   - 自动检测胜利条件：所有非地雷格子都被揭示时获胜
   - 游戏结束时显示所有地雷位置并弹出结果提示

## 开发过程总结

开发过程中解决了几个关键问题：

1. **项目结构设计**
   - 采用MVC模式设计：Model(Minesweeper, Cell)负责游戏逻辑，View(MainWindow)负责UI展示
   - 使用CMake构建项目，便于跨平台开发

2. **Qt整合**
   - 设置正确的Qt包含路径解决编译错误
   - 使用Qt的信号槽机制实现UI和逻辑的解耦
   - 自定义CellButton类处理特殊的鼠标事件

3. **游戏逻辑实现**
   - 随机生成地雷位置
   - 计算每个单元格周围的地雷数量
   - 实现递归揭示算法，当点击空白格子时自动揭示周围格子

4. **UI交互优化**
   - 解决递归算法可能导致的段错误
   - 优化揭示格子的视觉效果
   - 添加双击处理功能，增强游戏体验
   - 解决信号槽连接问题，确保事件正确传递

5. **游戏增强功能**
   - 实现标记功能
   - 添加双击功能以提高游戏效率
   - 添加临时X标记提供玩家提示

## 使用方法

1. 点击"start"按钮开始新游戏
2. 左击格子揭示内容
3. 右击格子标记/取消标记可能的地雷
4. 双击数字格子可以快速揭示周围未标记的格子（前提是周围已标记的地雷数等于该数字）
5. 揭示所有非地雷格子即获胜

## 技术栈

- C++20
- Qt 6.9.0
- CMake 3.16+

2025年4月6日16:55